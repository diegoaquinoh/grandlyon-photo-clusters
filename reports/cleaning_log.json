{
  "timestamp": "2026-02-01T21:58:39.870353",
  "initial_count": 420240,
  "final_count": 138488,
  "total_removed": 281752,
  "retention_rate": 32.95,
  "steps": [
    {
      "step": "GPS validation",
      "rows_before": 420240,
      "rows_after": 420240,
      "rows_removed": 0,
      "removal_percentage": 0.0,
      "reason": "Removed rows with null, NaN, or out-of-range GPS coordinates"
    },
    {
      "step": "Date validation",
      "rows_before": 420240,
      "rows_after": 419826,
      "rows_removed": 414,
      "removal_percentage": 0.1,
      "reason": "Removed rows with impossible date values (month>12, year outside 1990-2025, etc.)"
    },
    {
      "step": "Date coherency",
      "rows_before": 419826,
      "rows_after": 418898,
      "rows_removed": 928,
      "removal_percentage": 0.22,
      "reason": "Removed rows where date_taken > date_upload (impossible: upload before capture)"
    },
    {
      "step": "Deduplication",
      "rows_before": 418898,
      "rows_after": 167578,
      "rows_removed": 251320,
      "removal_percentage": 60.0,
      "reason": "Removed duplicate photo entries (same photo ID)"
    },
    {
      "step": "Lyon bbox filter (metro)",
      "rows_before": 167578,
      "rows_after": 140040,
      "rows_removed": 27538,
      "removal_percentage": 16.43,
      "reason": "Kept only photos within Lyon area (lat: 45.69-45.82, lon: 4.77-4.92)"
    },
    {
      "step": "Density-based outlier filtering",
      "rows_before": 140040,
      "rows_after": 138488,
      "rows_removed": 1552,
      "removal_percentage": 1.11,
      "reason": "Removed isolated points with < 10 neighbors within 0.002\u00b0 radius (low local density)"
    }
  ]
}